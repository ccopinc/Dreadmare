@model Dreadmare.DTOModels.ReviewsViewModel

@{
    ViewBag.Title = "GetReviews";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}




<div id="PageTitle" style="position: absolute; top: 150px; left: 250px; ">
    <img src="~/Images/MovieReviews.png" />
</div>
<table cellpadding='0' cellspacing='0' style="width: 900px;padding-left: 100px; position: absolute; top: 320px;">
    <tr>
        <td class="HeaderRow TitleColumn">Movie Title</td>
        <td class="HeaderRow ">Rating</td>
        <td class="HeaderRow ReviewdDateColumn">Review Date</td>
        <td class="HeaderRow ReviewdByColumn">Reviewed By</td>
    </tr>
    @if (Model != null)
    {
        foreach (var movie in Model.Reviews)
        {
            <tr>
                <td class="ReviewRow TitleColumn MovieTitle"><a class="MovieTitle" href="#" onclick="LoadDetails(@movie.id_Review)">@movie.MovieTitle</a></td>
                <td class="ReviewRow ScoreColumns">@movie.TotalPoints</td>
                <td class="ReviewRow ReviewdDateColumn">@movie.ReviewDate</td>
                <td class="ReviewRow ReviewdBy ">@movie.Reviewer</td>
            </tr>
        }
    }
</table>
<div id="review" class="w3-modal" style="background-color: black;">
    <div class="w3-modal-content w3-animate-opacity" style="background-color: black;">
        <div class="w3-container" style="background-color: black;">
            <span onclick="document.getElementById('review').style.display = 'none'" class="w3-button w3-display-topright">
                <img src="~/Images/Close.png" />
            </span>
            <div id="reviewView" style="background-color: black;"></div>
        </div>
    </div>
</div>


<script type="text/javascript">
    function LoadDetails(id) {
        $.ajax({
            url: '/movie/reviewdetails/' + id,
            dataType: "html",
            type: "GET",
            contentType: "application/html; charset=utf-8",
            success: function (result) {
 
                document.getElementById('reviewView').innerHTML = result;
                document.getElementById('review').style.display = 'block';
 
            },
            error: function (xhr) {
                alert("error");
            }
        });
        
    };


</script>
